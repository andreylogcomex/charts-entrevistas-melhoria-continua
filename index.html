<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SQUAD MELHORIA CONTINUA</title>
</head>
<body>
        <div id="container"></div>
</body>
</html>

<style type="text/css">
    #container {
        width: 100vw;
        height: 100vh;
        background: #6C7A89;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center
    }
</style>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script>
    var colors = Highcharts.getOptions().colors,
    categories = [
        'Treinamento',
        'Comunicação ',
        'Transparência',
        'Empatia',
        'Respeito',
        'Procedimento/Processos',
    ],
    data = [
        {
            y: 36,
            color: colors[2],
            drilldown: {
                name: 'Treinamento',
                categories: [
                	'Adaptação',
									'Conhecimento do sistema',
									'Mudar Treinamento',
                  'Criar Documentos',
                  'Ter Treinamento mais Eficiente',
                  'Logdays contante',
                  'Treinar melhor o Hubspot',
                  'Não tem acompanhamento',
                  'Descobrir o FIT de clientes',
                  'Esquecimento de tarefas',
                  'Padronizar treinamento',
                  'Falta de conhecimento de comex',
                  'Falta de incentivo a educação',
                ],
                data: [
                    3,
                    3,
                    1,
                    2,
                    6,
                    3,
                    2,
                    5,
                    2,
                    1,
                    3,
                    4,
                    1,
                ]
            }
        },
        {
            y: 69,
            color: colors[1],
            drilldown: {
                name: 'Comunicação',
                categories: [
                    'Troca de sabedoria',
                    'Entre setores',
                    'Entre logers',
                    'Para gestores',
                    'Chamados',
                    'Daily longa',
                    'Testar o produto',
                    'Treinar lideres e descentralizar poder',
                    'Comunicação e acompanhamento de vendas',
                    'Atrito no departamento de vendas',
                    'Melhor comunicação entre CS e Comercial',
                    'Feedback das Ligações',
                    'Aviso sobre alterações na plataforma',
                    'Setor refém de autorização',
                ],
                data: [
                  6,
                  19,
                  6,
                  5,
                  4,
                  1,
                  2,
                  8,
                  4,
                  4,
                  2,
                  2,
                  4,
                  2,
                ]
            }
        },
        {
            y: 52,
            color: colors[0],
            drilldown: {
                name: 'Transparência',
                categories: [
                    'Projetos Futuros Dpto / Log',
                    'Definição de atividades',
                    'Lançamento de novos produtos',
                    'Métricas por Loger',
                    'Projeto em andamento',
                    'Definir melhor as métricas',
                    'Definir Metas Diárias',
                    'Feedback individual',
                    'Falta de Planejamento',
                    'Falta de Proatividade',
                    'Falta de comprometimento do TI',
                    'Pricing praticado de forma errada',
                    'Valorizar mais todos os departamentos',
                    'Falta de Meritocracia',
                    'Desigualdade entre departamentos',
                    'Comissionamento Injusto',
                    'Gestão de RH contraditório',
                    'Oportunidades Iguais',
                    'Falta de visão do que impacta nas demandas',
                ],
                data: [
                   	4,
                    5,
                    3,
                    2,
                    3,
                    2,
                    1,
                    3,
                    5,
                    1,
                    7,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2,
                    2,
                ]
            }
        },
        {
            y: 24,
            color: colors[3],
            drilldown: {
                name: 'Empatia',
                categories: [
                    'Resolução ao dpto certo',
                    'Prioridade',
                    'Expectativa comercial',
                    'Log e não só meta',
                    'Proatividade em ajudar o colega',
                    'Mais gentileza e empatia',
                    'Engajamento na mesma causa',
                    'Ter boa vontatde em ajudar os colegas',
                    'RH entender melhor o colaborador',
                    'RH benefícios pensando na empresa e não no pessoa',
                    'Comercial ouvir mais as pessoas',
                ],
                data: [
                    1,
                    6,
                    3,
                    2,
                    1,
                    3,
                    1,
                    2,
                    2,
                    1,
                    2,
                ]
            }
        },
        {
            y: 41,
            color: colors[5],
            drilldown: {
                name: 'Respeito',
                categories: [
                    'Higiene',
                    'Infraestrutura',
                    'Prazos',
                    'Comitê/Concordância',
                    'Rapidez = mal feito',
                    'Passa em cima do trab do outro',
                    'Crescimento sem planejamento',
                    'Culpa o outro e ñ soluciona',
                    'Mais hierarquia menos coleguismo',
                    'Confiabilidade do sistema',
                    'Educação ao falar com colegas',
                    'Respeitar a opinião dos outros',
                    'Competição desleal',
                    'Falta de foco no cliente',
                    'Acabar com injustiças',
                    'Tratar todos como Iguais',
                ],
                data: [
                   	2,
                    5,
                    4,
                    1,
                    3,
                    4,
                    3,
                    2,
                    1,
                    1,
                    4,
                    3,
                    2,
                    2,
                    2,
                    2,
                ]
            }
        },
        {
            y: 45,
            color: colors[4],
            drilldown: {
                name: 'Procedimento/Processos',
                categories: [
                    'Regra de Negócio',
                    'Onde tira dúvidas?',
                    'Passar por cima do planejado',
                    'Programação/org de tarefas fut',
                    'Contratação lenta',
                    'Devday não funciona',
                    'Rede, WiFi, Banco de dados',
                    'Processo de prospecção demorado', 
                    'Simplificar Processos',
                    'Follow up do CS demorado',
                    'Automatizar processos de vendas',
                    'Padronização dos Processos',
                    'Sistema financeiro deficiente',
                    'Faturamento manual atrasa os processos',
                    'Mais agilidade do CS e Comercial',
                    'Fazer o JIRA funcionar 100%',
                    'Falta de detalhes do CS nas demandas',
                ],
                data: [
                    2,
                    1,
                    7,
                    5,
                    3,
                    1,
                    3,
                    1,
                    2,
                    5,
                    3,
                    4,
                    1,
                    1,
                    3,
                    1,
                    2,
                ]
            }
        }
    ],
    browserData = [],
    versionsData = [],
    i,
    j,
    dataLen = data.length,
    drillDataLen,
    brightness;


// Build the data arrays
for (i = 0; i < dataLen; i += 1) {

    // add browser data
    browserData.push({
        name: categories[i],
        y: data[i].y,
        color: data[i].color
    });

    // add version data
    drillDataLen = data[i].drilldown.data.length;
    for (j = 0; j < drillDataLen; j += 1) {
        brightness = 0.2 - (j / drillDataLen) / 5;
        versionsData.push({
            name: data[i].drilldown.categories[j],
            y: data[i].drilldown.data[j],
            color: Highcharts.Color(data[i].color).brighten(brightness).get()
        });
    }
}

// Create the chart
Highcharts.chart('container', {
    chart: {
        type: 'pie'
    },
    title: {
        text: 'Resultado das entrevistas - Squad de Melhoria continua'
    },
    plotOptions: {
        pie: {
            shadow: false,
            center: ['50%', '50%']
        }
    },
    series: [{
        name: 'Ponto há melhorar',
        data: browserData,
        size: '60%',
        dataLabels: {
            formatter: function () {
                return this.y > 5 ? this.point.name : null;
            },
            color: '#ffffff',
            distance: -30
        }
    }, {
        name: 'Detalhado',
        data: versionsData,
        size: '80%',
        innerSize: '60%',
        dataLabels: {
            formatter: function () {
                // display only if larger than 1
                return this.y > 1 ? '<b>' + this.point.name + ':</b> ' +
                    this.y + '' : null;
            }
        },
        id: 'versions'
    }],
    responsive: {
        rules: [{
            condition: {
                maxWidth: 400
            },
            chartOptions: {
                series: [{
                }, {
                    id: 'Detalhado',
                    dataLabels: {
                        enabled: false
                    }
                }]
            }
        }]
    }
});

</script>


